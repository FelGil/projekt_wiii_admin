"use strict";let listContainer=document.getElementById("admin_list_container"),eduAddEdit=document.getElementById("eduAddEdit"),addNewEduBtn=document.getElementById("addNewEduBtn"),eduSubmitBtn=document.getElementById("eduSubmitBtn"),eduEditBtn=document.getElementById("eduEditBtn"),addNewEduDispBtn=document.getElementById("addNewEduDispBtn"),eduLink=document.getElementById("edu_link"),eduForm=document.getElementById("eduForm"),eduFormheader=document.getElementById("eduFormheader"),eduUniversityFrm=document.getElementById("eduUniversity"),eduCourseFrm=document.getElementById("eduCourse"),eduStartDateFrm=document.getElementById("eduStartDate"),eduEndDateFrm=document.getElementById("eduEndDate");eduLink.addEventListener("click",getEducations),eduSubmitBtn.addEventListener("click",createEdu),eduEditBtn.addEventListener("click",updateEdu),addNewEduDispBtn.addEventListener("click",addNewEduDispToggle);let idHolder="",restlink="https://studenter.miun.se/~fegi2000/writeable/projekt_wiii_ws/api.php";function getEducations(){eduLink.classList.add("visited"),pofLink.classList.remove("visited"),wrkLink.classList.remove("visited"),addNewEduDispBtn.style.display="block",addNewPofDispBtn.style.display="none",addNewWrkDispBtn.style.display="none","block"===pofAddEdit.style.display&&addNewPofDispToggle(),"block"===wrkAddEdit.style.display&&addNewWrkDispToggle(),listContainer.innerHTML="",listContainer.innerHTML+='<div class="rowWrapper listheader">\n        <div class="adm_col1">\n            <b>Lärosäte:</b>\n        </div>\n        <div class="adm_col2">\n            <b>Utbildning:</b> \n        </div>\n        <div class="adm_col3">\n            <b>Startdatum:</b>\n        </div>\n        <div class="adm_col4">\n            <b>Slutdatum:</b>\n        </div>\n    </div>\n    ',fetch(restlink+"?type=edu").then((e=>e.json())).then((e=>{e.forEach((e=>{let t=e.startDate;t=t.substring(0,7);let n=e.endDate;n=n.substring(0,7),listContainer.innerHTML+=`<div class="rowWrapper">\n                <div class="adm_col1">\n                <span class="small_listheader">Lärosäte: </span>${e.university}\n                </div>\n                <div class="adm_col2">\n                <span class="small_listheader">Utbildning: </span>${e.course}\n                </div>\n                <div class="adm_col3">\n                <span class="small_listheader">Start datum: </span>${t}\n                </div>\n                <div class="adm_col4">\n                <span class="small_listheader">Slut datum: </span>${n}\n                </div>\n                <div class="adm_col5">\n                    <button id="${e.id}" class="btn_del" onClick="deleteEdu(${e.id})">Radera</button>\n                    <button id="${e.id}" class="btn_update" onClick="setFormEdu(${e.id})">Ändra</button>\n                </div>\n            </div>`}))}))}function addNewEduDispToggle(e){"block"===eduAddEdit.style.display?(eduAddEdit.style.display="none",eduSubmitBtn.style.display="block",eduEditBtn.style.display="none",addNewEduDispBtn.innerText="Lägg till ny utbildning",eduFormheader.innerHTML="Lägg till utbildning:",eduForm.reset()):(eduAddEdit.style.display="block",eduEditBtn.style.display="none",addNewEduDispBtn.innerText="Dölj",eduForm.reset()),"edit"===e&&(eduAddEdit.style.display="block",eduSubmitBtn.style.display="none",eduEditBtn.style.display="block",eduFormheader.innerHTML="Ändra utbildning",addNewEduDispBtn.innerText="Dölj",eduForm.reset())}function createEdu(){let e=eduUniversityFrm.value,t=eduCourseFrm.value,n=eduStartDateFrm.value,d=eduEndDateFrm.value;if(!(verifyUniversity(e)&&verifyCourse(t)&&verifyStartDate(n)&&verifyEndDate(d)))return;let i={university:e,course:t,startDate:n,endDate:d};console.log(restlink+"?type=edu"),fetch(restlink+"?type=edu",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(i)}).then((e=>e.text())).then((e=>{getEducations(),addNewEduDispToggle()})).catch((e=>{console.log("Error: ",e)}))}function deleteEdu(e){confirm("Är du säker på att du vill ta bort detta?")&&fetch(restlink+"?type=edu&id="+e,{method:"DELETE"}).then((e=>e.text())).then((e=>{getEducations()})).catch((e=>{console.log("Error: ",e)}))}function setFormEdu(e){addNewEduDispToggle("edit"),idHolder=e,fetch(restlink+"?type=edu&id="+e).then((e=>e.json())).then((e=>{e.forEach((e=>{eduUniversityFrm.value=e.university,eduCourseFrm.value=e.course,eduStartDateFrm.value=e.startDate,eduEndDateFrm.value=e.endDate}))}))}function updateEdu(){let e=eduUniversityFrm.value,t=eduCourseFrm.value,n=eduStartDateFrm.value,d=eduEndDateFrm.value;if(!(verifyUniversity(e)&&verifyCourse(t)&&verifyStartDate(n)&&verifyEndDate(d)))return;let i={university:e,course:t,startDate:n,endDate:d};fetch(restlink+"?type=edu&id="+idHolder,{method:"PUT",body:JSON.stringify(i)}).then((e=>e.text())).then((e=>{getEducations(),addNewEduDispToggle()})).catch((e=>{console.log("Error: ",e)}))}let pofSubmitBtn=document.getElementById("pofSubmitBtn"),pofEditBtn=document.getElementById("pofEditBtn"),pofAddEdit=document.getElementById("pofAddEdit"),addNewPofDispBtn=document.getElementById("addNewPofDispBtn"),pofLink=document.getElementById("pof_link"),pofForm=document.getElementById("pofForm"),pofFormheader=document.getElementById("pofFormheader"),pofTitle=document.getElementById("pofTitle"),pofURL=document.getElementById("pofURL"),pofDescription=document.getElementById("pofDescription");function getPortfolio(){pofLink.classList.add("visited"),eduLink.classList.remove("visited"),wrkLink.classList.remove("visited"),addNewPofDispBtn.style.display="block",addNewEduDispBtn.style.display="none",addNewWrkDispBtn.style.display="none","block"===eduAddEdit.style.display&&addNewEduDispToggle(),"block"===wrkAddEdit.style.display&&addNewWrkDispToggle(),listContainer.innerHTML="",listContainer.innerHTML+='<div class="rowWrapper listheader">\n        <div class="adm_col1">\n            <b>Titel:</b>\n        </div>\n        <div class="adm_col2">\n            <b>URL:</b> \n        </div>\n        <div class="adm_col3">\n            <b>Beskrivning:</b>\n        </div>\n    </div>\n    ',fetch(restlink+"?type=pof").then((e=>e.json())).then((e=>{e.forEach((e=>{listContainer.innerHTML+=`<div class="rowWrapper">\n                <div class="adm_col1">\n                <span class="small_listheader">Titel: </span>${e.title}\n                </div>\n                <div class="adm_col2">\n                <span class="small_listheader">URL: </span><a href="${e.url}">Länk</a>\n                </div>\n                <div class="adm_col3">\n                <span class="small_listheader">Beskrivning: </span>${e.description}\n                </div>\n                <div class="adm_col5">\n                    <button id="${e.id}" class="btn_del" onClick="deletePof(${e.id})">Radera</button>\n                    <button id="${e.id}" class="btn_update" onClick="setFormPof(${e.id})">Ändra</button>\n                </div>\n            </div>`}))}))}function addNewPofDispToggle(e){"block"===pofAddEdit.style.display?(pofAddEdit.style.display="none",pofSubmitBtn.style.display="block",pofEditBtn.style.display="none",addNewPofDispBtn.innerText="Lägg till ny webbplats",pofFormheader.innerHTML="Lägg till webbplats:",pofForm.reset()):(pofAddEdit.style.display="block",addNewPofDispBtn.innerText="Dölj",pofEditBtn.style.display="none",pofForm.reset()),"edit"===e&&(pofAddEdit.style.display="block",addNewPofDispBtn.innerText="Dölj",pofSubmitBtn.style.display="none",pofEditBtn.style.display="block",pofFormheader.innerHTML="Ändra webbplats:",pofForm.reset())}function createPof(){let e=pofTitle.value,t=pofURL.value,n=pofDescription.value;if(!verifyTitle(e)||!verifyUrl(t)||!verifyDescription(n))return;let d={title:e,url:t,description:n};fetch(restlink+"?type=pof",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(d)}).then((e=>e.text())).then((e=>{getPortfolio(),addNewPofDispToggle()})).catch((e=>{console.log("Error: ",e)}))}function deletePof(e){confirm("Är du säker på att du vill ta bort detta?")&&fetch(restlink+"?type=pof&id="+e,{method:"DELETE"}).then((e=>e.text())).then((e=>{getPortfolio()})).catch((e=>{console.log("Error: ",e)}))}function setFormPof(e){addNewPofDispToggle("edit"),idHolder=e,fetch(restlink+"?type=pof&id="+e).then((e=>e.json())).then((e=>{e.forEach((e=>{pofTitle.value=e.title,pofURL.value=e.url,pofDescription.value=e.description}))}))}function updatePof(){let e=pofTitle.value,t=pofURL.value,n=pofDescription.value;if(!verifyTitle(e)||!verifyUrl(t)||!verifyDescription(n))return;let d={title:e,url:t,description:n};fetch(restlink+"?type=pof&id="+idHolder,{method:"PUT",body:JSON.stringify(d)}).then((e=>e.text())).then((e=>{getPortfolio(),addNewPofDispToggle()})).catch((e=>{console.log("Error: ",e)}))}pofLink.addEventListener("click",getPortfolio),addNewPofDispBtn.addEventListener("click",addNewPofDispToggle),pofSubmitBtn.addEventListener("click",createPof),pofEditBtn.addEventListener("click",updatePof);let wrkSubmitBtn=document.getElementById("wrkSubmitBtn"),wrkEditBtn=document.getElementById("wrkEditBtn"),wrkAddEdit=document.getElementById("wrkAddEdit"),addNewWrkDispBtn=document.getElementById("addNewWrkDispBtn"),wrkLink=document.getElementById("wrk_link"),wrkForm=document.getElementById("wrkForm"),wrkEmployer=document.getElementById("wrkEmployer"),wrkTitle=document.getElementById("wrkTitle"),wrkStartDate=document.getElementById("wrkStartDate"),wrkEndDate=document.getElementById("wrkEndDate");function getWrkexperience(){wrkLink.classList.add("visited"),pofLink.classList.remove("visited"),eduLink.classList.remove("visited"),addNewWrkDispBtn.style.display="block",addNewPofDispBtn.style.display="none",addNewEduDispBtn.style.display="none","block"===pofAddEdit.style.display&&addNewPofDispToggle(),"block"===eduAddEdit.style.display&&addNewEduDispToggle(),listContainer.innerHTML="",listContainer.innerHTML+='<div class="rowWrapper listheader">\n        <div class="adm_col1">\n            <b>Arbete:</b>\n        </div>\n        <div class="adm_col2">\n            <b>Titel:</b> \n        </div>\n        <div class="adm_col3">\n            <b>Startdatum:</b>\n        </div>\n        <div class="adm_col4">\n            <b>Slutdatum:</b>\n        </div>\n    </div>\n    ',fetch(restlink+"?type=wrk").then((e=>e.json())).then((e=>{e.forEach((e=>{let t=e.startDate;t=t.substring(0,7);let n=e.endDate;n=n.substring(0,7),listContainer.innerHTML+=`<div class="rowWrapper">\n                <div class="adm_col1">\n                <span class="small_listheader">Arbete: </span>${e.employer}\n                </div>\n                <div class="adm_col2">\n                <span class="small_listheader">Titel: </span>${e.title}\n                </div>\n                <div class="adm_col3">\n                <span class="small_listheader">Start datum: </span>${t}\n                </div>\n                <div class="adm_col4">\n                <span class="small_listheader">Slut datum: </span>${n}\n                </div>\n                <div class="adm_col5">\n                    <button id="${e.id}" class="btn_del" onClick="deleteWrk(${e.id})">Radera</button>\n                    <button id="${e.id}" class="btn_update" onClick="setFormWrk(${e.id})">Ändra</button>\n                </div>\n            </div>`}))}))}function addNewWrkDispToggle(e){"block"===wrkAddEdit.style.display?(wrkAddEdit.style.display="none",wrkSubmitBtn.style.display="block",wrkEditBtn.style.display="none",addNewWrkDispBtn.innerText="Lägg till ny erfarenhet",wrkFormheader.innerHTML="Lägg till erfarenhet:",wrkForm.reset()):(wrkAddEdit.style.display="block",addNewWrkDispBtn.innerText="Dölj",wrkEditBtn.style.display="none",wrkForm.reset()),"edit"===e&&(wrkAddEdit.style.display="block",addNewWrkDispBtn.innerText="Dölj",wrkSubmitBtn.style.display="none",wrkEditBtn.style.display="block",wrkFormheader.innerHTML="Ändra erfarenhet",wrkForm.reset())}function createWrk(){let e=wrkEmployer.value,t=wrkTitle.value,n=wrkStartDate.value,d=wrkEndDate.value;if(!(verifyEmployer(e)&&verifyWrkTitle(t)&&verifyStartDate(n)&&verifyEndDate(d)))return;let i={employer:e,title:t,startDate:n,endDate:d};fetch(restlink+"?type=wrk",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(i)}).then((e=>e.text())).then((e=>{getWrkexperience(),addNewWrkDispToggle()})).catch((e=>{console.log("Error: ",e)}))}function deleteWrk(e){confirm("Är du säker på att du vill ta bort detta?")&&fetch(restlink+"?type=wrk&id="+e,{method:"DELETE"}).then((e=>e.text())).then((e=>{getWrkexperience()})).catch((e=>{console.log("Error: ",e)}))}function setFormWrk(e){addNewWrkDispToggle("edit"),idHolder=e,fetch(restlink+"?type=wrk&id="+e).then((e=>e.json())).then((e=>{e.forEach((e=>{wrkEmployer.value=e.employer,wrkTitle.value=e.title,wrkStartDate.value=e.startDate,wrkEndDate.value=e.endDate}))}))}function updateWrk(){let e=wrkEmployer.value,t=wrkTitle.value,n=wrkStartDate.value,d=wrkEndDate.value;if(!(verifyEmployer(e)&&verifyWrkTitle(t)&&verifyStartDate(n)&&verifyEndDate(d)))return;let i={employer:e,title:t,startDate:n,endDate:d};fetch(restlink+"?type=wrk&id="+idHolder,{method:"PUT",body:JSON.stringify(i)}).then((e=>e.text())).then((e=>{getWrkexperience(),addNewWrkDispToggle()})).catch((e=>{console.log("Error: ",e)}))}function verifyUniversity(e){return!(0===e.length||e.length>120)||(alert("Lärosäte kan inte vara tom eller över 120 tecken."),!1)}function verifyCourse(e){return!(0===e.length||e.length>50)||(alert("Utbildning kan inte vara tom eller över 50 tecken."),!1)}function verifyStartDate(e){return 10===e.length||(console.log(e.length),alert("Start datum måste innehålla 10 tecken yyyy-mm-dd."),!1)}function verifyEndDate(e){return 10===e.length||(alert("Slut datum måste innehålla 10 tecken yyyy-mm-dd."),!1)}function verifyTitle(e){return!(0===e.length||e.length>50)||(alert("Titel kan inte vara tom eller över 50 tecken."),!1)}function verifyUrl(e){return!(0===e.length||e.length>150)||(alert("URL kan inte vara tom eller över 150 tecken."),!1)}function verifyDescription(e){return!(0===e.length||e.length>1e3)||(alert("Beskrivnignen kan inte vara tom eller över 1000 tecken."),!1)}function verifyEmployer(e){return!(0===e.length||e.length>100)||(alert("Arbetsgivare kan inte vara tom eller över 100 tecken."),!1)}function verifyWrkTitle(e){return!(0===e.length||e.length>100)||(alert("Anställningsform kan inte vara tom eller över 100 tecken."),!1)}wrkLink.addEventListener("click",getWrkexperience),addNewWrkDispBtn.addEventListener("click",addNewWrkDispToggle),wrkSubmitBtn.addEventListener("click",createWrk),wrkEditBtn.addEventListener("click",updateWrk);
//# sourceMappingURL=../maps/admin_main.js.map
